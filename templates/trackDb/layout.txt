% for trackDb in trackDbs:
    % if "bigWig" in trackDb.get("trackType"):

track ${trackDb.get("trackName")}
longLabel ${trackDb.get("longLabel")}
shortLabel ${trackDb.get("shortLabel")}
bigDataUrl ${trackDb.get("trackDataURL")}
type ${trackDb.get("trackType")}
visibility ${trackDb.get("visibility")}
priority ${trackDb.get("priority")}
color ${trackDb.get("track_color")}
group ${trackDb.get("group_name").lower().replace(' ', '_')}
autoScale on
maxHeightPixels 100:32:8
windowingFunction mean+whiskers

    % elif "bigBed 12 +" in trackDb.get("trackType") and trackDb.get("database"):

track ${trackDb.get("trackName")}
longLabel ${trackDb.get("longLabel")}
shortLabel ${trackDb.get("shortLabel")}
bigDataUrl ${trackDb.get("trackDataURL")}
type ${trackDb.get("trackType")}
visibility ${trackDb.get("visibility")}
thickDrawItem ${trackDb.get("thickDrawItem")}
priority ${trackDb.get("priority")}
color ${trackDb.get("track_color")}
group ${trackDb.get("group_name").lower().replace(' ', '_')}
searchIndex name
        % if "NCBI" in trackDb.database:
url https://www.ncbi.nlm.nih.gov/protein/$$
urlLabel ${trackDb.database} Details:
iframeUrl https://www.ncbi.nlm.nih.gov/protein/$$
iframeOptions height='600' width='800'
        % elif "UniProt" in trackDb.database:
url http://www.uniprot.org/uniprot/$$
urlLabel ${trackDb.database} Details:
iframeUrl http://www.uniprot.org/uniprot/$$
iframeOptions height='600' width='800'
        % elif "FlyBase" in trackDb.database:
url http://flybase.org/reports/$$
urlLabel ${trackDb.database} Details:
iframeUrl http://flybase.org/reports/$$
iframeOptions height='600' width='800'
        % else:
url https://www.ncbi.nlm.nih.gov/gquery/?term=$$
urlLabel NCBI Details:
iframeUrl https://www.ncbi.nlm.nih.gov/gquery/?term=$$
iframeOptions height='600' width='800'
        % endif
        
    % elif "bigPsl" in trackDb.get("trackType") and trackDb.get("database"):
    
track ${trackDb.get("trackName")}
longLabel ${trackDb.get("longLabel")}
shortLabel ${trackDb.get("shortLabel")}
bigDataUrl ${trackDb.get("trackDataURL")}
type ${trackDb.get("trackType")}
visibility ${trackDb.get("visibility")}
thickDrawItem ${trackDb.get("thickDrawItem")}
priority ${trackDb.get("priority")}
color ${trackDb.get("track_color")}
group ${trackDb.get("group_name").lower().replace(' ', '_')}
searchIndex name
    % if "NCBI" in trackDb.database:
url https://www.ncbi.nlm.nih.gov/nuccore/$$
urlLabel NCBI Details:
iframeUrl https://www.ncbi.nlm.nih.gov/nuccore/$$
iframeOptions height='600' width='800'
    % else:
url https://www.ncbi.nlm.nih.gov/gquery/?term=$$
urlLabel NCBI Details:
iframeUrl https://www.ncbi.nlm.nih.gov/gquery/?term=$$
iframeOptions height='600' width='800'
    % endif

    % else:

## See this http://genome.ucsc.edu/goldenPath/help/hgTrackHubHelp.html
track ${trackDb.get("trackName")}
longLabel ${trackDb.get("longLabel")}
shortLabel ${trackDb.get("shortLabel")}
bigDataUrl ${trackDb.get("trackDataURL")}
type ${trackDb.get("trackType")}
visibility ${trackDb.get("visibility")}
thickDrawItem ${trackDb.get("thickDrawItem")}
priority ${trackDb.get("priority")}
color ${trackDb.get("track_color")}
group ${trackDb.get("group_name").lower().replace(' ', '_')}
searchIndex name
    % endif
% endfor
